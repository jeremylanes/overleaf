'use strict';var p=require('path'),O=require('process'),m=require('fs'),url=require('url');function _interopDefault(e){return e&&e.__esModule?e:{default:e}}var p__default=/*#__PURE__*/_interopDefault(p);var O__default=/*#__PURE__*/_interopDefault(O);var m__default=/*#__PURE__*/_interopDefault(m);var j=Object.create;var b=Object.defineProperty;var D=Object.getOwnPropertyDescriptor;var _=Object.getOwnPropertyNames;var U=Object.getPrototypeOf,A=Object.prototype.hasOwnProperty;var y=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,r)=>(typeof require<"u"?require:e)[r]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var F=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var L=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of _(e))!A.call(t,o)&&o!==r&&b(t,o,{get:()=>e[o],enumerable:!(n=D(e,o))||n.enumerable});return t};var M=(t,e,r)=>(r=t!=null?j(U(t)):{},L(b(r,"default",{value:t,enumerable:!0}),t));var I=F((rt,x)=>{var{sep:R}=y("path"),q=t=>{for(let e of t){let r=/(\/|\\)/.exec(e);if(r!==null)return r[0]}return R};x.exports=function(e,r=q(e)){let[n="",...o]=e;if(n===""||o.length===0)return "";let a=n.split(r),s=a.length;for(let u of o){let i=u.split(r);for(let c=0;c<s;c++)i[c]!==a[c]&&(s=c);if(s===0)return ""}let f=a.slice(0,s).join(r);return f.endsWith(r)?f:f+r};});var N=M(I());var S={directory:"isDirectory",file:"isFile"};function Y(t){if(!Object.hasOwnProperty.call(S,t))throw new Error(`Invalid type specified: ${t}`)}var z=(t,e)=>e[S[t]](),H=t=>t instanceof URL?url.fileURLToPath(t):t;function d(t,{cwd:e=O__default.default.cwd(),type:r="file",allowSymlinks:n=!0}={}){Y(r),e=H(e);let o=n?m__default.default.statSync:m__default.default.lstatSync;for(let a of t)try{let s=o(p__default.default.resolve(e,a),{throwIfNoEntry:!1});if(!s)continue;if(z(r,s))return a}catch{}}var Q=t=>t instanceof URL?url.fileURLToPath(t):t,K=Symbol("findUpStop");function B(t,e={}){let r=p__default.default.resolve(Q(e.cwd)||""),{root:n}=p__default.default.parse(r),o=e.stopAt||n,a=e.limit||Number.POSITIVE_INFINITY,s=[t].flat(),f=i=>{return d(s,i);},u=[];for(;;){let i=f({...e,cwd:r});if(i===K||(i&&u.push(p__default.default.resolve(r,i)),r===o||u.length>=a))break;r=p__default.default.dirname(r);}return u}function g(t,e={}){return B(t,{...e,limit:1})[0]}function k({cwd:t}={}){let e=g("package.json",{cwd:t});return e&&p__default.default.dirname(e)}var{env:h,cwd:X}=O__default.default,v=t=>{try{return m__default.default.accessSync(t,m__default.default.constants.W_OK),!0}catch{return !1}};function E(t,e){return e.create&&m__default.default.mkdirSync(t,{recursive:!0}),t}function Z(t){let e=p__default.default.join(t,"node_modules");if(!(!v(e)&&(m__default.default.existsSync(e)||!v(p__default.default.join(t)))))return e}function w(t={}){if(h.CACHE_DIR&&!["true","false","1","0"].includes(h.CACHE_DIR))return E(p__default.default.join(h.CACHE_DIR,t.name),t);let{cwd:e=X(),files:r}=t;if(r){if(!Array.isArray(r))throw new TypeError(`Expected \`files\` option to be an array, got \`${typeof r}\`.`);e=(0, N.default)(r.map(o=>p__default.default.resolve(e,o)));}if(e=k({cwd:e}),!(!e||!Z(e)))return E(p__default.default.join(e,"node_modules",".cache",t.name),t)}function C(t,e="default"){let r=w({name:"storybook"});return r||=p.join(process.cwd(),".cache","storybook"),p.join(r,e,t)}var tt=[/storybook-config-entry\.js$/,/storybook-stories\.js$/],Ot=async(t,e)=>{let r=await e.presets.apply("babel",{},e),n=await e.presets.apply("typescript",{},e);return t.module={...t.module||{},rules:[...t.module?.rules||[],{test:n.skipCompiler?/\.((c|m)?jsx?)$/:/\.((c|m)?(j|t)sx?)$/,use:[{loader:y.resolve("babel-loader"),options:{cacheDirectory:C("babel"),...r}}],exclude:[/node_modules/,...tt]}]},t};exports.webpackFinal=Ot;